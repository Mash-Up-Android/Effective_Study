# 변화로부터 코드를 보호하려면 추상화를 사용하라
객체지향을 계속해서 공부해온 사람이라면 뭐 딱히 아하 모먼트는 없다.  
어떻게보면 객체지향의 강력한 부분을 또또또 강조하는 뭐 그런글이다.  

좀 다시 되새겨야지 싶은 부분만 적어보겠다.

### 함수 추상화
함수 추상화가 중요한게 아니라  
특정 구현체 혹은 구현에 고정되는게 아니라 행위 자체로 추상화 하는게 중요하다.  

책에 나온 메시지를 전달하는 행위의 레벨로 추상화해서
기획의 요구사항이 마구 바뀌어도 내부구현은 마음대로 바꿔버릴수 있는 이 점이 참 중요한것 같다.  

예를들어 다이얼로그가 있다.  
안드로이드에서 멧돼지 사진 다이얼로그를 띄워달라는 최초 요구사항이 있다고 쳐보자  
그때 뭐 MVVM이라면 Event, MVI라면 뭐 SideEffect로 다이얼로그  띄우는 행위를 트리거 시킬텐데  
이때 이벤트명을 showBoarDialog 이런식으로 짓는 엄청 별로인 코드가 은근 많다.  

일단 관심사 분리가 잘 안된것 부터 맘에 안들지만 그건 제껴두고 변화에 관점에서 봤을때
다이얼로그 못생겼다고 바텀시트로 바꿔달라고 한다고 쳐보자 그럼 변화의 전파가 어디까지 가는가?  
당연히 뷰모델까지도 올것이다.  

만약 네이밍을 행위레벨까지 추상화시켜 showBoarImage 이런식으로 했다면 단순 구현 부분만 변경되게 되었을것이다.
이게 별거 아니여 보여도 큰 의미를 가진다고 생각한다.

### 추상화의 문제, 어떻게 균형을 맞춰야 할까?
이말에도 정말 동의한다 추상화는 무조건 많이한다고 좋은것만은 아니다.  
적당히가 중요하고 사실 팀원을 믿을수 있어야하는게 중요하다고 생각한다.  

이게 무슨 의미인가하면 사실 객체지향의 진정한 강력함을 볼려면 구현체를 안보고 타입의 정의만 보고도 어떻게 사용하는지 감이 와야하고(기가막힌 작명실력)  
내부 구현체는 당연히 엄청 최적화가 잘되어있어서 믿고 써도 되어야한다.  
내가 직접 다까서 일일히 검사해야하면 사실상 객체지향은 오히려 다 뜯어져있어서 보기 어려운 경우도 있다.  

그래서 결국 좋은 팀원 실력있는 팀원을 구하고(이제는 AI가 개쩔어서 기계팀원을 얻게생겼지만, 대체되는건 나인가?)  
유닛테스트 등의 안전장치가 두루 갖춰져있어야 비로소 위력을 발휘할 수 있다고 생각한다.

그리고 이책에서 나오는것처럼 사실 조건이 정말 다양해서 그냥 경험과 예술의 영역같다.
- 팀의 크기
- 팀의 경험
- 프로젝트 크기
- 도메인 지식

각자 가진게 너무 다르고 의견도 다르다. 이를 조화롭게 팀원 모두가 만족하는 마법을 부려야하지 않나 싶다.

### 개인적인 생각 실질적인 방법을 만들자
난 객체지향 생활체조 원칙이 참좋다고 생각한다.
사실 객체지향은 두루뭉술해서 익히기 참어렵다. 

차라리 몇가지 원리원칙에 의해 지켜야하는 실질적인 규칙을 직접 만들어보는게 참좋은것 같다.
경험치가 쌓여갈때 마다 각자의 생활체조 원칙을 만들어보고 지켜보자.  
그런 의미에서 이미 유명한 객체지향 생활체조 원칙부터 지켜보자


