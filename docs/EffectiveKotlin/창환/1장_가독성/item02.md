# item2 변수의 스코프를 최소화하라

정말 공감가고 필수적으로 지켜야하는 개발 원칙중 하나인데(이게 잘 안지켜져서 힘든 경우가 너무 많았음).  
근데 이책에서의 예시는 그닥 공감은 안가는? 더 할 이야기가 많을텐데 대체 왜 이런예시? 어쩃든 그랬음  

어쩃든 스코프를 줄이는 이유를 살펴보자

## 추적관리가 쉬움(디버깅이 쉬움)
뭐 말할 필요도 없다. 이해 안되면 안스 디버깅툴 켜서 변수 표시되는거 봐봐라  
변수는 현재 디버깅 지점의 스코프에서 가까이 있는게 최고다.

## 오용가능
이것도 당연한 이야기  
근데 흐음 기존 변수 쓸때 사이드 이펙트 신경 써야하지 않나?  
꼼꼼하지 못한사람도 잘 코드짜는 구조가 좋은 구조니까 스코프 제한하자  
그리고 내가 처한 안드환경이 범위가 막 크지 않은 환경일수도?  
개발 경험이 적어서 다른분야의 환경은 모르겠다 ㅎㅎ  

## 할당과 초기화 왠만해서 같이하라.
기법이 나오는데
- if
- when
- try-catch
- elvis 연산자
- 구조분해

이미 숨쉬듯이 쓴다.  
그리고 추적하기 쉬운 코드를 위해서 바로 할당하는건 경험으로 모두 찌릿 찌릿할거다.  

그리고 이건 변수도 변수인데 비슷한 논리로 객체 설계할때 생성자로 주입받아서 초기화하는걸 항상 염두해야한다고 생각한다.  
가끔 보면 객체 상태 nullable 하게 뚫어놓고 초기화 나중에 해야지만 객체가 돌아가게 설계하는 사람이 많다.  
그것도 엄청나게 많은 문제를 낳는데 뭐 이런거랑 비슷한 맥락 아닐까 싶다.

## 캡쳐링이야기
물론 맞는 말이겠지만 시퀀스 크게 안써서 공감안간다.(이정도 복잡한 계산을 중첩해서 할일이 딱히 없었다.)  
아니면 내가 최적화에 무감각한가? 오히려 시퀀스 써야할일 있는데 객체 밖이면 디미터의 법칙이 더먼저 찌릿찌릿 했던거 같다.

## 이제부터 내 생각 상태가 좁을수록 함수가 독립성이 보장되고 객체분리, 함수의 이동이 쉬워진다.
클래스내 프로퍼티 -> 예를들어 액티비티에 프로퍼티로 떡칠해서 코드 짠 경우  
이런 경우 로직이 방대해지고 책임이 비대해져서 클래스 분리를 고려해야할 때도 프로퍼티에 얽혀서 분리해내기 힘든 경우가 자주 있다.  

즉 상태를 공유하는 함수들은 실로 묶여있다고 생각하면 되는데 프로퍼티가 밖으로 나와서 서로 공유하는 경우의 수가 많을수록 점점더  
실이 다발이 되어 끊기 힘들어질 것이다.

그냥 함수는 그 자체로 독립적으로 움직일 수 있을때 가장 이상적이라고 생각하며,  
객체의 메서드로써 어느정도 상태등을 공유할 수 있지만 이 또한 최대한 줄이는 방향이 유지보수할 때 좋지 않나라는 생각이 든다.  

실화 바탕으로 레거시 함수(ex.500줄 짜리) 분리하고, 클래스의 역할을 찢어내는데 가장 크게 장애물로 작용하는 요소가 큰 스코프에서 공유되는 변수 같다.
