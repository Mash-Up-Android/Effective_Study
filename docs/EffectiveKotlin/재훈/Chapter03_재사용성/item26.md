# 26. 함수 내부의 추상화 레벨을 통일하라

---

---

# 개요

추상 계층이 잘 분리되면, 어떤 계층에서 작업할 때 그 아래의 계층은 이미 완성되어 있으므로, 해당 계층만 생각하면 되므로 전체를 이해할 필요가 없어지는 장점이 있음

ex. 어셈블리 언어, JVM 바이트 코드가 뭔지 몰라도 프로그래밍 가능

> 애플리케이션
> 
> 프로그래밍 언어
> 
> 어셈블러
>
> 하드웨어
>
> 물리 장치

⇒ 아래로 내려 갈수록 낮은 레벨의 추상화 계층

---

# 추상화 레벨

일반적으로 컴퓨터 과학자들은 어떤 계층이 높은 레벨인지 낮은 레벨인지를 구분함

높은 레벨로 갈수록 물리 장치로부터 점점 멀어짐

프로그래밍에서 일반적으로 높은 레벨일수록 프로세서로부터 멀어짐

높은 레벨일수록 걱정해야 하는 세부적인 내용들이 적음

but, 높은 레벨일수록 단순함을 얻지만, 제어력을 잃음

ex. C는 메모리 관리를 직접할 수 있지만, JAVA는 GC가 자동으로 메모리를 관리해줘서 최적화가 힘듦

---

# 추상화 레벨 통일

컴퓨터 과학과 마찬가지로 코드도 추상화를 계층처럼 만들어서 사용 가능

⇒ 이를 위한 기본적인 도구가 **함수**임

추상화 레벨 통일(Single Level of Abstraction, SLA)

→ 컴퓨터 과학이 높은 레벨과 낮은 레벨을 확실하게 구분하는 것처럼, 함수도 높은 레벨과 낮은 레벨을 구분해서 사용해야 한다는 원칙

함수는 간단해야 함 ⇒ “함수는 작아야 하며, 최소한의 책임만 가져야 함”

어떤 함수가 다른 함수보다 복잡하다면, 일부 부분을 추출해서 추상화하는 것이 좋음

⇒ 재사용과 테스트가 쉬워짐

---

# 프로그램 아키텍처의 추상 레벨

추상화 계층이라는 개념은 함수보다 높은 레벨에서도 적용 가능

추상화를 구분하는 이유는 서브시스템의 세부 사항을 숨김으로써 상호 운영성과 플랫폼 독립성을 얻기 위함

→ 문제 중심으로 프로그래밍한다는 의미

> 4. 높은 레벨 문제 중심
> 
> 3. 낮은 레벨 문제 중심
>
> 2. 낮은 레벨 구현 구조
>
> 1. 프로그래밍 언어 구조와 도구
> 
> 0. 운영 체제 연산과 머신 명령

모듈을 분리하면 계층 고유의 요소를 숨길 수 있음

애플리케이션을 만들 때는 입력과 출력을 나타내는 모듈(뷰, HTTP 요청 처리)은 낮은 레벨의 모듈임

계층이 잘 분리된 프로젝트를 계층화가 잘 되었다고 부르고, 이는 좋은 프로젝트라고 부름

⇒ 계층화가 잘 된 프로젝트는 어떤 계층 위치에서 코드를 보아도, 일관적인 관점을 얻을 수 있음

---

# 정리

별도의 추상화 계층을 만드는 것은 프로그래밍에서 일반적으로 사용되는 개념임

⇒ knowledge를 체계화하고, 서브시스템의 세부사항을 숨김으로써 상호 운영성과 플랫폼 독립성을 얻게 함

함수, 클래스, 모듈 등의 다양한 방식을 통해서 추상화를 분리함

이 때 각각의 레이어가 너무 커지는 것은 좋지 않음

⇒ 작고 최소한의 책임만 갖는 함수가 이해하기 쉬움

추상화 레벨은 구체적인 동작, 프로세서, 입출력과 가까울수록 낮은 레벨이라고 표현함

낮은 추상화 계층에서는 높은 계층에서 사용하는 요소(API)를 만듦

---